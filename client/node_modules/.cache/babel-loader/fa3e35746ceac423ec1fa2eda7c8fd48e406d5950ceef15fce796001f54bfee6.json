{"ast":null,"code":"import _objectSpread from\"/Users/davidneagoy/food-truck-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OrderForm=()=>{const[formData,setFormData]=useState({name:'',phone:'',menuItem:'',quantity:1,pickupTime:'',specialRequest:''});const navigate=useNavigate();const[menuItems,setMenuItems]=useState([]);useEffect(()=>{fetch(\"\".concat(process.env.REACT_APP_API_BASE,\"/api/menu\")).then(res=>res.json()).then(data=>setMenuItems(data)).catch(err=>console.error('❌ Failed to load menu:',err));},[]);const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();try{const res=await fetch(\"\".concat(process.env.REACT_APP_API_BASE,\"/api/orders\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});const data=await res.json();console.log('✅ Order submitted:',data);alert('✅ Order submitted!');navigate('/confirmation',{state:{order:formData}});// Optionally reset form\nsetFormData({name:'',phone:'',menuItem:'',quantity:1,pickupTime:'',specialRequest:''});}catch(err){console.error('❌ Error submitting order:',err);alert('❌ Failed to submit order.');}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"max-w-md mx-auto p-4 bg-white shadow-lg rounded-2xl space-y-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-center\",children:\"Place Your Order\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-semibold mb-1\",htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,required:true,className:\"w-full p-2 border rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-semibold mb-1\",htmlFor:\"phone\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phone\",value:formData.phone,onChange:handleChange,required:true,className:\"w-full p-2 border rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-semibold mb-1\",htmlFor:\"menuItem\",children:\"Menu Item\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"menuItem\",value:formData.menuItem,onChange:handleChange,required:true,className:\"w-full p-2 border rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Choose an item --\"}),menuItems.map(item=>/*#__PURE__*/_jsx(\"option\",{value:item.name,children:item.name.charAt(0).toUpperCase()+item.name.slice(1)},item._id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-semibold mb-1\",htmlFor:\"quantity\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"quantity\",value:formData.quantity,onChange:handleChange,min:\"1\",required:true,className:\"w-full p-2 border rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-semibold mb-1\",htmlFor:\"pickupTime\",children:\"Pickup Time (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",name:\"pickupTime\",value:formData.pickupTime,onChange:handleChange,className:\"w-full p-2 border rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-semibold mb-1\",htmlFor:\"specialRequest\",children:\"Special Requests\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"specialRequest\",value:formData.specialRequest,onChange:handleChange,rows:\"3\",className:\"w-full p-2 border rounded\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition\",children:\"Submit Order\"})]});};export default OrderForm;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","OrderForm","formData","setFormData","name","phone","menuItem","quantity","pickupTime","specialRequest","navigate","menuItems","setMenuItems","fetch","concat","process","env","REACT_APP_API_BASE","then","res","json","data","catch","err","console","error","handleChange","e","value","target","prev","_objectSpread","handleSubmit","preventDefault","method","headers","body","JSON","stringify","log","alert","state","order","onSubmit","className","children","htmlFor","type","onChange","required","map","item","charAt","toUpperCase","slice","_id","min","rows"],"sources":["/Users/davidneagoy/food-truck-app/client/src/components/OrderForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom'; \n\nconst OrderForm = () => {\n  const [formData, setFormData] = useState({\n    name: '',\n    phone: '',\n    menuItem: '',\n    quantity: 1,\n    pickupTime: '',\n    specialRequest: ''\n  });\n\n  const navigate = useNavigate();\n\n  const [menuItems, setMenuItems] = useState([]);\n\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_API_BASE}/api/menu`)\n      .then(res => res.json())\n      .then(data => setMenuItems(data))\n      .catch(err => console.error('❌ Failed to load menu:', err));\n  }, []);\n  \n\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      const res = await fetch(`${process.env.REACT_APP_API_BASE}/api/orders`, {\n\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(formData),\n      });\n\n      const data = await res.json();\n      console.log('✅ Order submitted:', data);\n      alert('✅ Order submitted!');\n      navigate('/confirmation', { state: { order: formData } });\n\n      // Optionally reset form\n      setFormData({\n        name: '',\n        phone: '',\n        menuItem: '',\n        quantity: 1,\n        pickupTime: '',\n        specialRequest: ''\n      });\n    } catch (err) {\n      console.error('❌ Error submitting order:', err);\n      alert('❌ Failed to submit order.');\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"max-w-md mx-auto p-4 bg-white shadow-lg rounded-2xl space-y-4\">\n      <h2 className=\"text-2xl font-bold text-center\">Place Your Order</h2>\n\n      <div>\n        <label className=\"block font-semibold mb-1\" htmlFor=\"name\">Name</label>\n        <input type=\"text\" name=\"name\" value={formData.name} onChange={handleChange} required className=\"w-full p-2 border rounded\" />\n      </div>\n\n      <div>\n        <label className=\"block font-semibold mb-1\" htmlFor=\"phone\">Phone Number</label>\n        <input type=\"tel\" name=\"phone\" value={formData.phone} onChange={handleChange} required className=\"w-full p-2 border rounded\" />\n      </div>\n\n      <div>\n        <label className=\"block font-semibold mb-1\" htmlFor=\"menuItem\">Menu Item</label>\n        <select name=\"menuItem\" value={formData.menuItem} onChange={handleChange} required className=\"w-full p-2 border rounded\">\n        <option value=\"\">-- Choose an item --</option>\n        {menuItems.map(item => (\n          <option key={item._id} value={item.name}>\n            {item.name.charAt(0).toUpperCase() + item.name.slice(1)}\n          </option>\n        ))}\n\n        </select>\n      </div>\n\n      <div>\n        <label className=\"block font-semibold mb-1\" htmlFor=\"quantity\">Quantity</label>\n        <input type=\"number\" name=\"quantity\" value={formData.quantity} onChange={handleChange} min=\"1\" required className=\"w-full p-2 border rounded\" />\n      </div>\n\n      <div>\n        <label className=\"block font-semibold mb-1\" htmlFor=\"pickupTime\">Pickup Time (optional)</label>\n        <input type=\"time\" name=\"pickupTime\" value={formData.pickupTime} onChange={handleChange} className=\"w-full p-2 border rounded\" />\n      </div>\n\n      <div>\n        <label className=\"block font-semibold mb-1\" htmlFor=\"specialRequest\">Special Requests</label>\n        <textarea name=\"specialRequest\" value={formData.specialRequest} onChange={handleChange} rows=\"3\" className=\"w-full p-2 border rounded\" />\n      </div>\n\n      <button type=\"submit\" className=\"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition\">\n        Submit Order\n      </button>\n    </form>\n  );\n};\n\nexport default OrderForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}