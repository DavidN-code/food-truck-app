{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MenuManager=()=>{const[menuItems,setMenuItems]=useState([]);const[newItem,setNewItem]=useState('');const BASE_URL=process.env.REACT_APP_API_BASE||'http://localhost:5050';console.log(\"üåê Fetching from:\",BASE_URL);useEffect(()=>{fetchMenu();},[]);const fetchMenu=()=>{fetch(\"\".concat(BASE_URL,\"/api/menu\")).then(res=>res.json()).then(data=>setMenuItems(data)).catch(err=>console.error('Failed to load menu:',err));};const handleAdd=async()=>{if(!newItem.trim())return;try{const res=await fetch(\"\".concat(BASE_URL,\"/api/menu\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:newItem.trim()})});if(res.ok){setNewItem('');fetchMenu();// reload updated menu\n}else{console.error('Failed to add item');}}catch(err){console.error('Add error:',err);}};const handleDelete=async id=>{try{await fetch(\"\".concat(BASE_URL,\"/api/menu/\").concat(id),{method:'DELETE'});fetchMenu();// refresh list\n}catch(err){console.error('Delete error:',err);}};return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem'},children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>{e.preventDefault();// prevent form from refreshing\nhandleAdd();},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newItem,placeholder:\"New menu item\",onChange:e=>setNewItem(e.target.value),style:{padding:'0.5rem',marginRight:'0.5rem'}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\u2795 Add\"})]}),/*#__PURE__*/_jsx(\"ul\",{style:{marginTop:'1rem'},children:menuItems.map(item=>/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:'0.5rem'},children:[item.name,' ',/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(item._id),children:\"\\uD83D\\uDDD1\\uFE0F Delete\"})]},item._id))})]});};export default MenuManager;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","MenuManager","menuItems","setMenuItems","newItem","setNewItem","BASE_URL","process","env","REACT_APP_API_BASE","console","log","fetchMenu","fetch","concat","then","res","json","data","catch","err","error","handleAdd","trim","method","headers","body","JSON","stringify","name","ok","handleDelete","id","style","marginTop","children","onSubmit","e","preventDefault","type","value","placeholder","onChange","target","padding","marginRight","map","item","marginBottom","onClick","_id"],"sources":["/Users/davidneagoy/food-truck-app/client/src/components/MenuManager.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst MenuManager = () => {\n  const [menuItems, setMenuItems] = useState([]);\n  const [newItem, setNewItem] = useState('');\n  const BASE_URL = process.env.REACT_APP_API_BASE || 'http://localhost:5050';\n  console.log(\"üåê Fetching from:\", BASE_URL);\n\n\n\n  useEffect(() => {\n    fetchMenu();\n  }, []);\n\n  const fetchMenu = () => {\n    fetch(`${BASE_URL}/api/menu`)\n    .then(res => res.json())\n      .then(data => setMenuItems(data))\n      .catch(err => console.error('Failed to load menu:', err));\n  };\n\n  const handleAdd = async () => {\n    if (!newItem.trim()) return;\n\n    try {\n      const res = await fetch(`${BASE_URL}/api/menu`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name: newItem.trim() })\n      });\n\n      if (res.ok) {\n        setNewItem('');\n        fetchMenu(); // reload updated menu\n      } else {\n        console.error('Failed to add item');\n      }\n    } catch (err) {\n      console.error('Add error:', err);\n    }\n  };\n\n  const handleDelete = async (id) => {\n    try {\n      await fetch(`${BASE_URL}/api/menu/${id}`, {\n        method: 'DELETE',\n      });\n      fetchMenu(); // refresh list\n    } catch (err) {\n      console.error('Delete error:', err);\n    }\n  };\n\n  return (\n    <div style={{ marginTop: '1rem' }}>\n      <form\n        onSubmit={(e) => {\n          e.preventDefault(); // prevent form from refreshing\n          handleAdd();\n        }}\n      >\n        <input\n          type=\"text\"\n          value={newItem}\n          placeholder=\"New menu item\"\n          onChange={(e) => setNewItem(e.target.value)}\n          style={{ padding: '0.5rem', marginRight: '0.5rem' }}\n        />\n        <button type=\"submit\">‚ûï Add</button>\n      </form>\n  \n      <ul style={{ marginTop: '1rem' }}>\n        {menuItems.map(item => (\n          <li key={item._id} style={{ marginBottom: '0.5rem' }}>\n            {item.name}{' '}\n            <button onClick={() => handleDelete(item._id)}>üóëÔ∏è Delete</button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n  \n};\n\nexport default MenuManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}